## 一 事务的概念

在事务中，可以一次执行多个命令（可以理解为一组命令的集合），这些命令按照顺序执行且不会被外部命令干扰。  

但是一定注意：Redis的事务是部分支持的，从哪里出错，后续的不再执行，前面的依然会执行！  

- 乐观锁：认为问题一定会产生，所以为了防止数据异常，会锁住整张表，保证了数据，但是降低了性能。
- 悲观锁：认为问题不会发生，类似给表添加了一个version字段，每行数据都有一个versoon版本，那么现在2个操作来改了其中同一行，就会产生2个版本，这2个操作在提交的时候就会进行对比，其中一个需要先更新到新版本才能再提交
- CAS：

watch指令就类似乐观锁，再事务提交时，如果发现已经被别的客户端修改，则事务对立而不会执行。

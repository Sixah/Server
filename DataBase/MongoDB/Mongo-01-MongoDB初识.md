## 一 MongoDB简介
MongoDB是一个面向集合、模式自由的文档型数据库。  
MongoDB采用C++开发，是当前最火热的nosql数据库之一，可以在许多场合替代传统的关系型数据库。  
MongoDB最大的特点是拥有可以媲美sql的查询语言，语法与面向对象的查询语法非常相似，可以实现关系型数据库单标查询的大部分功能，也支持对数据建立索引。  
MongoDB主要特点如下：
- 面向集合文档存储
- 模式自由：一个集合可以存储一个键值对的文档，也可以存储多个键值对的文档
- 动态查询：支持查询语句使用JSON参数
- 支持复制和恢复
- 支持高效二进制存储，包括大型食品、图片等
MongoDB使用场景：
- 可以替代大多数对关系性要求不高的数据存储，如私信功能
- 可以作为缓存，解决数据过载问题，当然现在大多采用redis
- 大数据、低价值数据的存储
## 二 MongoDB安装
## 三 MongoDB基本使用
#### 3.1 MongoDB的组成
MongoDB中多个文档组成集合，多个集合组成了数据库，一个MongoDB实例可以承载多个数据库，他们之间是完全独立的，每个数据库也有独立的权限控制，在磁盘上不同的数据库放置在不同的文件中。  
数据库的命名：
- 数据库名不能是空字符串
- 数据库名不能包含空格，空格符，$等特殊字符
- 数据库名推荐全小写
- 数据库名最多64KB
MongoDB有一些特殊的数据库：
- Admin：类似root数据库，在admin数据库中添加的用户会自动继承所有的数据库的权限，一些特定的服务器端命令也只能从这个数据运行，比如列出所有数据库、关闭服务器等等
- Local:该数据库永远不会被复制，可以用来存储限于本地单台服务器的任意集合。
- Config：当Mongo用于分片设置时，config数据库在内部使用，用于保存分片的配置信息。  

MongoDB启动后，由实例和数据库组成，一般情况下，一个MongoDB服务包含一个实例与多个与之对应的数据库，特殊情况下，允许一个服务器上有多个实例和多个数据库。  
#### 3.2 MongoDB数据存储
MongoDB数据逻辑结构：  
MongoDB的数据主要由文档（Document）、集合（Collection）、数据库（Database）三部分组成，文档相当于关系数据中的一行数据，多个文档组成的一个集合相当于关系数据库中的表，多个集合逻辑上组织在一起，就相当于数据库。  
Mongo默认的数据目录是/data/db，所有的数据文件都在此目录下，每个数据库都包含一个.ns文件和一些数据库文件。  
Mongo内部有预分配空间的机制，始终保持额外的空间和空余的数据文件，可以有效避免数据暴增而带来的磁盘压力。数据不断增加时，Mongo会新分配文件来存储，每次分配的文件大小是上一个数据文件大小的两倍，每个数据文件最大为2G。  
Mongo数据库中每个集合和每个索引都有对应的命名空间，这些命名空间的元数据都集中在*.ns文件中。命名空间最大长度为121字节，实际应用中小鱼100字节。  
#### 3.3 Mongo文档


